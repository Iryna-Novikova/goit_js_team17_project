{"version":3,"file":"index.js","sources":["../src/js/refer.js","../src/js/markup-artists-functions.js","../src/js/show-hide-functions.js","../src/js/artists-api.js","../src/js/artist-detail-modal.js","../src/js/artists.js"],"sourcesContent":["export const refs = {\n  // header\n  headerBurger: document.querySelector('[data-menu-open]'),\n  modalHeaderCloseBtn: document.querySelector('.close-menu-btn'),\n\n  modalHeader: document.querySelector('[data-menu]'), // мобільне меню\n  logoLinkMenu: document.querySelector('.logo-link'), // логотип в моб. меню\n  mobileNavLinks: document.querySelector('.mobile-nav-links'), // посилання в моб. меню\n\n  // Artists Section\n  artistsListElm: document.querySelector('[data-artist-gallery]'), // Список карток артистів\n  loadMoreBtnElm: document.querySelector('[data-btn-load-more]'), // Кнопка \"Load More\"\n  artistLoaderElm: document.querySelector('[data-artist-loader]'),\n  \n\n  // Artist Details Modal\n  artistInfoElm: document.querySelector('[data-artist-info]'),\n  artistsModalBackdrop: document.querySelector('[data-artists-modal]'), // Модальне вікно\n  artistsModalCloseBtn: document.querySelector('.artists-modal-close-btn'), // Кнопка закриття модального вікна\n  artistModalLoaderElm: document.querySelector('[data-artist-detail-loader]'), //loader для модального вікна\n\n  // Feedback Section\n\n  feedbackSliderPrevBtn: document.querySelector('.swiper-button-prev'), // Кнопки навігації слайдера\n  feedbackSliderNextBtn: document.querySelector('.swiper-button-next'), // Кнопки навігації слайдера\n  feedbackSliderPagination: document.querySelector('.swiper-pagination'), // Пагінація\n  openFeedbackBtn: document.querySelector('.leave-feedback-btn'), // Кнопка відкриття форми фідбеку\n  feedbackLoaderElm: document.querySelector('[data-feedback-loader]'), //Лоудер для секції фідбеку\n  feedbackSliderWrapperElm: document.querySelector('[data-feedbackLists]'), //Список відгуків\n\n  // Feedback Modal\n  feedbackFormBackdrop: document.querySelector('[data-feedback-form]'), // Модалка з формою фідбеку\n  feedbackFormEL: document.querySelector('.form-main'), // Форма для фідбеку\n  feedbackFormCloseBtn: document.querySelector('.form-main-btn'), // Кнопка закриття модалки\n\n  feedbackFormRatingContainer: document.querySelector('.form-str'), // Контейнер для рейтингу зірочками\n  feedbackFormSubmitBtn: document.querySelector('.form-end-button'), // Кнопка відправки форми\n\n  body: document.body, //для блокування скролу\n};\n","// тут мають бути фннкції по розмітці карток артистів для секції артисти. \nimport { refs } from './refer.js';\n\nfunction createArtistCard(artist) {\n  const {\n    _id: id,\n    strArtist: name,\n    strArtistThumb: photo,\n    genres = [],\n    strBiographyEN: shortDescription,\n  } = artist;\n\n  const genresMarkup =\n    `<ul class=\"artists-genres-list\">` +\n    genres.map(genre => `<li class=\"artists-genre-item\">${genre}</li>`).join(' ') +\n    `</ul>`;\n\n  const descriptionText = shortDescription\n    ? shortDescription.slice(0, 60) + '...' : 'No description available.';\n  \n  // const genresString = encodeURIComponent(JSON.stringify(genres));\n  \n  return `\n    <li class=\"artists-card\">\n      <img src=\"${photo}\" alt=\"${name}\" class=\"artist-photo\" />\n      ${genresMarkup}\n      <h4 class=\"artists-name epilogue\">${name}</h4>\n      <p class=\"artists-description\">${descriptionText}</p>\n      <button class=\"learn-more-btn\" data-id=\"${id}\" type=\"button\">\n        <span class=\"learn-more-text\">Learn More</span>\n        <svg class=\"learn-more-icon\" viewBox=\"0 0 31 32\" width=\"24\" height=\"24\">\n          <use href=\"/img/icons.svg#icon-right-caret-learn-more\"></use>\n        </svg>\n      </button>\n    </li>\n  `;\n}\n\nexport function createArtistsList(artistArray) {\n  const markup = artistArray.map(createArtistCard).join('');\n  refs.artistsListElm.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearArtistsList() {\n  refs.artistsListElm.innerHTML = '';\n}\n","import { refs } from './refer.js';\n\nexport function showLoadMoreBtn() {\n  refs.loadMoreBtnElm.classList.remove('visually-hidden');\n}\n\nexport function hideLoadMoreBtn() {\n  refs.loadMoreBtnElm.classList.add('visually-hidden');\n}\n\nexport function showLoaderFeedback() {\n  refs.feedbackLoaderElm.classList.remove('visually-hidden');\n}\n\nexport function hideLoaderFeedback() {\n  refs.feedbackLoaderElm.classList.add('visually-hidden');\n}\nexport function showLoaderArtists() {\n  refs.artistLoaderElm.classList.remove('visually-hidden');\n}\n\nexport function hideLoaderArtists() {\n  refs.artistLoaderElm.classList.add('visually-hidden');\n}\nexport function showLoaderModal() {\n  refs.artistModalLoaderElm.classList.remove('visually-hidden');\n}\n\nexport function hideLoaderModal() {\n  refs.artistModalLoaderElm.classList.add('visually-hidden');\n}\n","// ТУт мають бути усі запити на сервер.\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\n\nexport async function getArtists(page = 1, limit = 8) {\n  const endPoint = '/artists';\n\n  const params = {\n    limit,\n    page,\n  };\n\n  const res = await axios.get(endPoint, { params });\n  return res.data;\n}\n\nexport async function getArtistCard(id) {\n  const endPoint = `/artists/${id}/albums`;\n\n  const params = {\n    id,\n  };\n\n  const res = await axios.get(endPoint, { params });\n  return res.data;\n}\n\nexport async function getFeedback(page = 1, limit = 3) {\n  const endPoint = '/feedbacks';\n\n  const params = {\n    page,\n    limit,\n  };\n\n  const res = await axios.get(endPoint, { params });\n  return res.data;\n}\n\nexport async function postFeedback({ name, rating, descr }) {\n  const endPoint = '/feedbacks';\n\n  const body = {\n    name,\n    rating,\n    descr,\n  };\n\n  const res = await axios.post(endPoint, body);\n  return res.data;\n}\n","export function openArtistModal(id) {\n  console.log(`ArtistID: ${id}`);\n}","import { refs } from './refer.js';\nimport { createArtistsList } from './markup-artists-functions.js';\nimport { showLoadMoreBtn, hideLoadMoreBtn,  showLoaderArtists,  hideLoaderArtists } from './show-hide-functions.js';\nimport { getArtists } from './artists-api.js';\nimport { openArtistModal } from './artist-detail-modal';\n\nlet currentPage = 1;\nconst limit = 8;\nlet totalPages;\n\nloadArtistsList();\n\nasync function loadArtistsList () {\n  try {\n      hideLoadMoreBtn();\n      showLoaderArtists();\n        const data = await getArtists(currentPage, limit);\n        const newArtists = data.artists;\n        const totalFetchedArtists = data.totalArtists;\n\n        createArtistsList(newArtists);\n        totalPages = Math.ceil (totalFetchedArtists / limit);\n        if (currentPage < totalPages) {\n          showLoadMoreBtn();\n          currentPage++;\n        } else {\n          hideLoadMoreBtn();\n        }\n    } catch (error) {\n    refs.artistsListElm.innerHTML = `Помилка завантаження артистів: ${error}`\n  };\n      hideLoaderArtists();\n}\n\nfunction hndLoadMoreClick() {\n  loadArtistsList();\n}\n\nrefs.loadMoreBtnElm.addEventListener('click', hndLoadMoreClick);\nrefs.artistsListElm.addEventListener('click', e => {\n  const learnMoreBtn = e.target.closest('.learn-more-btn');\n  if (!learnMoreBtn) {\n    return;\n  }\n  const artistId = learnMoreBtn.dataset.id;\n  if (!artistId) {\n    console.warn('Не знайдено data-id на кнопці \"Learn More\"');\n    return;\n  }\n  openArtistModal(artistId);\n});\n"],"names":["refs","createArtistCard","artist","id","name","photo","genres","shortDescription","genresMarkup","genre","descriptionText","createArtistsList","artistArray","markup","showLoadMoreBtn","hideLoadMoreBtn","showLoaderArtists","hideLoaderArtists","axios","getArtists","page","limit","endPoint","params","openArtistModal","currentPage","totalPages","loadArtistsList","data","newArtists","totalFetchedArtists","error","hndLoadMoreClick","e","learnMoreBtn","artistId"],"mappings":"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"}